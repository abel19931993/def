{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="row">
  <div class="col-xl-1">
      <div class="card">
          
      <button id="copyButton" class="copy-button">Copy URL</button>
      </div>
  </div>
</div>
<div class="row">
    <div class="col-xl-12">
        <div class="card">          
              <div class="iframe-container">
                  {{ embed_link|safe }}
              </div>
        </div>
    </div>
</div>

<script>
    // JavaScript to copy URL to clipboard
    document.getElementById("copyButton").addEventListener("click", function() {
        // Get the URL (assuming embed_link contains the URL or the src)
        var url = "{{ link }}";  // This assumes embed_link is a valid URL.

        // Create a temporary input element to hold the URL
        var tempInput = document.createElement("input");
        document.body.appendChild(tempInput);
        tempInput.value = url;
        
        // Select and copy the content of the input
        tempInput.select();
        document.execCommand("copy");

        // Remove the temporary input
        document.body.removeChild(tempInput);

        // Toggle the button text
        var button = document.getElementById("copyButton");
        button.textContent = "Copied!";
        
        // Optionally, show a success message
        alert("URL copied to clipboard!");

        // Reset the button text after 2 seconds
        setTimeout(function() {
            button.textContent = "Copy URL";
        }, 2000);
    });
</script>

{% endblock %}
